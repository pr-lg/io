# WebSocket Logger Service

Сервис для демонстрации работы WebSocket с логированием всех событий. Включает в себя серверную часть, веб-интерфейс и консольный клиент.

## Функциональность

- WebSocket сервер с поддержкой переподключения
- Веб-интерфейс для отправки сообщений и просмотра логов
- Консольный клиент для тестирования
- Логирование всех событий в отдельные файлы
- Автоматическое переподключение при потере соединения

## Структура проекта

```
websocket-log/
├── server.js         # Серверная часть
├── client.js         # Консольный клиент
├── index.html        # Веб-интерфейс
├── .env             # Конфигурация
├── events.log       # Логи сервера
└── client-events.log # Логи клиента
```

## Установка

1. Клонируйте репозиторий
2. Установите зависимости:
```bash
npm install
```
3. Создайте файл .env с настройками:
```env
WEBSOCKET_HOST=localhost
WEBSOCKET_PORT=3000
```

## Запуск

1. Запуск сервера:
```bash
npm start
```

2. Запуск консольного клиента:
```bash
node client.js
```

3. Веб-интерфейс доступен по адресу:
```
http://localhost:3000
```

## Возможности

### Сервер (server.js)
- Обработка WebSocket подключений
- Логирование всех событий в events.log
- API для просмотра логов через веб-интерфейс
- Поддержка переподключения клиентов

### Веб-интерфейс (index.html)
- Отправка и получение сообщений
- Просмотр логов в реальном времени
- Индикация статуса подключения
- Автоматическое переподключение

### Консольный клиент (client.js)
- Автоматическая отправка тестовых сообщений
- Логирование событий в client-events.log
- Поддержка переподключения
- Обработка прерывания процесса

## Логирование

### Серверные логи (events.log)
Содержат информацию о:
- Подключениях клиентов
- Отправленных/полученных сообщениях
- Ошибках
- Переподключениях

### Клиентские логи (client-events.log)
Содержат информацию о:
- Статусе подключения
- Отправленных сообщениях
- Попытках переподключения
- Ошибках

## Формат логов

```json
{
  "timestamp": "2023-12-XX:XX:XX.XXXZ",
  "event": "event_type",
  "data": {
    "clientId": "unique_client_id",
    "message": "event_details"
  }
}
```
